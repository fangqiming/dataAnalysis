<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Title</title>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/wangeditor@3.1.1/release/wangEditor.min.js"></script>
</head>
<body>
<div id="editor">
    <p>æ¬¢è¿ä½¿ç”¨ <b>wangEditor</b> å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</p>
</div>
<button id="button" type="button">ç¡®å®š</button>
<!-- æ³¨æ„ï¼Œ åªéœ€è¦å¼•ç”¨ JSï¼Œæ— éœ€å¼•ç”¨ä»»ä½• CSS ï¼ï¼ï¼-->
<script type="text/javascript">
    var E = window.wangEditor;
    var editor = new E('#editor');
    //æ³¨æ„æ­¤å¤„å¿…é¡»æŒ‡æ˜æ–‡ä»¶åï¼Œå¦åˆ™åå°ä¼šæŠ¥é”™
    editor.customConfig.uploadFileName = 'file';
    editor.customConfig.uploadImgServer = 'http://192.168.43.202:8082/file/upload_user';
    editor.customConfig.emotions = [
        {
            // tab çš„æ ‡é¢˜
            title: 'é»˜è®¤',
            // type -> 'emoji' / 'image'
            type: 'image',
            // content -> æ•°ç»„
            content: [
                {
                    src: 'https://aisharev1.oss-cn-beijing.aliyuncs.com/share/2.gif'
                },
                {
                    src: 'https://aisharev1.oss-cn-beijing.aliyuncs.com/share/1.gif'
                }
            ]
        }
        // {
        //
        //     title: 'emoji',
        //     // type -> 'emoji' / 'image'
        //     type: 'emoji',
        //     // content -> æ•°ç»„
        //     content: ['ğŸ˜€', 'ğŸ˜ƒ', 'ğŸ˜„', 'ğŸ˜', 'ğŸ˜†']
        // }
    ]
    editor.create()
</script>

<script>
    $(function () {
        event();
    })

    function event() {
        $("#button").click(function () {
            var content = editor.txt.html();
            var json = {"topicId": 1, "userCode": "userCode"};
            json['content'] = content;
            console.log(json);
            $.ajax({
                type: "post",
                url: "http://127.0.0.1:8081/reply/createFirst",
                contentType: "application/json",
                data: JSON.stringify(json),
                cache: false,
                async: false,
                dataType: "json",
                success: function (data, textStatus, jqXHR) {
                    alert("æˆåŠŸ")
                },
                error: function (XMLHttpRequest, textStatus, errorThrown) {
                    alert("è¯·æ±‚å¤±è´¥ï¼");
                }
            });
        })
    }
</script>
</body>
</html>